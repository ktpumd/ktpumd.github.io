---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import PageHeader from "../components/PageHeader.astro";

const base = import.meta.env.BASE_URL;
---

<Layout title="Kappa Theta Pi UMD">
  <Navbar currentPage="/students" />

  <PageHeader
    title="Join Us"
    backgroundImage="/img/rush-bg2.jpg"
    size="small"
  />

  <main>
    <!-- Rush Info Section -->
    <section class="section">
      <div class="container">
        <div class="content-block text-center">
          <h2 class="section-title">Spring 2026 Rush</h2>
          <p class="section-text">
            <strong
              >Any undergraduate student at the University of Maryland with an
              interest in technology is welcome to rush Kappa Theta Pi.</strong
            >
          </p>
          <p class="section-text">
            Stay tuned for our upcoming rush events! We look forward to meeting
            you.
          </p>

          <div class="cta-buttons">
            <a href="#" class="btn btn-primary">
              <i class="fa-solid fa-calendar-days"></i>
              Rush Schedule
            </a>
            <a
              href="https://linktr.ee/ktpumdcp"
              class="btn btn-outline"
              target="_blank"
              rel="noopener noreferrer"
            >
              <i class="fa-solid fa-link"></i>
              Other Links
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- What We Offer Header -->
    <section class="section section--alt">
      <div class="container">
        <h2 class="section-title text-center">What We Offer</h2>
        <p class="section-subtitle text-center">
          Everything you need to grow technically, professionally, and
          personally.
        </p>
      </div>
    </section>

    <!-- Technical Workshops -->
    <section class="section offer-section">
      <div class="container">
        <div class="offer-content">
          <div class="offer-text">
            <div class="offer-icon">
              <i class="fa-solid fa-code"></i>
            </div>
            <h3 class="offer-title">Technical Workshops</h3>
            <p class="offer-description">
              Learn cutting-edge technologies from experienced members. Our
              workshops cover web development, machine learning, cloud
              computing, mobile apps, and more. Whether you're a beginner or
              advanced, there's always something new to learn.
            </p>
            <ul class="offer-highlights">
              <li>Weekly hands-on coding sessions</li>
              <li>Project-based learning</li>
              <li>Industry-relevant skills</li>
            </ul>
          </div>
          <div class="offer-image offer-image--placeholder">
            <i class="fa-solid fa-image"></i>
            <span>Workshop photo</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Networking -->
    <section class="section section--alt offer-section">
      <div class="container">
        <div class="offer-content offer-content--reverse">
          <div class="offer-text">
            <div class="offer-icon">
              <i class="fa-solid fa-handshake"></i>
            </div>
            <h3 class="offer-title">Networking</h3>
            <p class="offer-description">
              Connect with our alumni network at Google, Meta, Amazon,
              Microsoft, and other top tech companies. Get referrals, resume
              reviews, mock interviews, and career guidance from people who've
              been in your shoes.
            </p>
            <ul class="offer-highlights">
              <li>Alumni mentorship program</li>
              <li>Company info sessions</li>
              <li>Career fairs and panels</li>
            </ul>
          </div>
          <div class="offer-image offer-image--placeholder">
            <i class="fa-solid fa-image"></i>
            <span>Networking photo</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Social Events -->
    <section class="section offer-section">
      <div class="container">
        <div class="offer-content">
          <div class="offer-text">
            <div class="offer-icon">
              <i class="fa-solid fa-users"></i>
            </div>
            <h3 class="offer-title">Social Events</h3>
            <p class="offer-description">
              Build lifelong friendships with driven, like-minded peers. From
              formals and game nights to retreats and study sessions, we're more
              than just a professional fraternity—we're a family.
            </p>
            <ul class="offer-highlights">
              <li>Semester formals and semi-formals</li>
              <li>Game nights and socials</li>
              <li>Brotherhood retreats</li>
            </ul>
          </div>
          <div class="offer-image offer-image--placeholder">
            <i class="fa-solid fa-image"></i>
            <span>Social event photo</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Community Service -->
    <section class="section section--alt offer-section">
      <div class="container">
        <div class="offer-content offer-content--reverse">
          <div class="offer-text">
            <div class="offer-icon">
              <i class="fa-solid fa-heart"></i>
            </div>
            <h3 class="offer-title">Community Service</h3>
            <p class="offer-description">
              Give back to the community through tech-focused philanthropy. We
              partner with local schools and nonprofits to teach coding,
              volunteer at hackathons, and make technology more accessible.
            </p>
            <ul class="offer-highlights">
              <li>Tech education outreach</li>
              <li>Hackathon volunteering</li>
              <li>Nonprofit partnerships</li>
            </ul>
          </div>
          <div class="offer-image offer-image--placeholder">
            <i class="fa-solid fa-image"></i>
            <span>Service photo</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Photo Gallery Section -->
    <section class="section">
      <div class="container">
        <h2 class="section-title text-center">Life as a Pi</h2>
        <div class="photo-grid">
          <div class="photo-card">
            <img
              src={`${base}img/palooza_s25.jpg`}
              alt="Palooza Spring 2025"
              loading="lazy"
            />
            <div class="photo-caption">Palooza 2025</div>
          </div>
          <div class="photo-card">
            <img
              src={`${base}img/formal_f24.jpg`}
              alt="Formal Fall 2024"
              loading="lazy"
            />
            <div class="photo-caption">Fall Formal 2024</div>
          </div>
          <div class="photo-card photo-card--placeholder">
            <div class="placeholder-content">
              <i class="fa-solid fa-image"></i>
              <span>More photos coming soon</span>
            </div>
          </div>
          <div class="photo-card photo-card--placeholder">
            <div class="placeholder-content">
              <i class="fa-solid fa-image"></i>
              <span>More photos coming soon</span>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
      <span class="lightbox-close">&times;</span>
      <img class="lightbox-content" id="lightbox-img" />
    </div>
  </main>

  <script>
    // Lightbox functionality
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById(
      "lightbox-img",
    ) as HTMLImageElement;
    const closeBtn = document.querySelector(".lightbox-close");
    const photos = document.querySelectorAll(".photo-card img");

    // Open lightbox
    photos.forEach((photo) => {
      photo.addEventListener("click", () => {
        const img = photo as HTMLImageElement;
        if (lightbox && lightboxImg) {
          lightbox.classList.add("active");
          lightboxImg.src = img.src;
          lightboxImg.alt = img.alt;
          document.body.style.overflow = "hidden"; // Prevent scrolling
        }
      });
    });

    // Close lightbox functions
    const closeLightbox = () => {
      if (lightbox) {
        lightbox.classList.remove("active");
        document.body.style.overflow = ""; // Restore scrolling
      }
    };

    // Event listeners for closing
    closeBtn?.addEventListener("click", closeLightbox);

    lightbox?.addEventListener("click", (e) => {
      if (e.target === lightbox) {
        closeLightbox();
      }
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && lightbox?.classList.contains("active")) {
        closeLightbox();
      }
    });
  </script>

  <Footer />
</Layout>

<style>
  .section-title {
    font-size: var(--font-size-3xl);
    margin-bottom: var(--spacing-8);
    position: relative;
    display: inline-block;
  }

  .section-title::after {
    content: "";
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 3px;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
  }

  .content-block {
    max-width: 700px;
    margin: 0 auto;
  }

  .section-text {
    font-size: var(--font-size-lg);
    color: var(--color-gray-400);
    line-height: 1.8;
  }

  .section-text strong {
    color: var(--color-white);
  }

  .cta-buttons {
    margin-top: var(--spacing-8);
    display: flex;
    justify-content: center;
    gap: var(--spacing-4);
    flex-wrap: wrap;
  }

  /* Section Subtitle */
  .section-subtitle {
    font-size: var(--font-size-lg);
    color: var(--color-text-muted);
    max-width: 600px;
    margin: 0 auto;
  }

  /* Offer Sections */
  .offer-section {
    padding: var(--spacing-16) 0;
  }

  .offer-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-12);
    align-items: center;
    max-width: 1100px;
    margin: 0 auto;
  }

  .offer-content--reverse {
    direction: rtl;
  }

  .offer-content--reverse > * {
    direction: ltr;
  }

  .offer-text {
    padding: var(--spacing-4);
  }

  .offer-icon {
    width: 60px;
    height: 60px;
    margin-bottom: var(--spacing-4);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-primary);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-2xl);
    color: var(--color-bg);
  }

  .offer-title {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--spacing-4);
    color: var(--color-text-heading);
  }

  .offer-description {
    font-size: var(--font-size-base);
    color: var(--color-text-muted);
    line-height: 1.8;
    margin-bottom: var(--spacing-6);
  }

  .offer-highlights {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .offer-highlights li {
    padding: var(--spacing-2) 0;
    padding-left: var(--spacing-6);
    position: relative;
    color: var(--color-text-muted);
  }

  .offer-highlights li::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: var(--color-primary);
    font-weight: bold;
  }

  .offer-image {
    border-radius: var(--radius-xl);
    overflow: hidden;
  }

  .offer-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  .offer-image--placeholder {
    aspect-ratio: 4 / 3;
    background: var(--color-bg-elevated);
    border: 1px dashed var(--color-border);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-3);
    color: var(--color-text-muted);
  }

  .offer-image--placeholder i {
    font-size: var(--font-size-4xl);
    opacity: 0.4;
  }

  .offer-image--placeholder span {
    font-size: var(--font-size-sm);
  }

  @media (max-width: 768px) {
    .offer-content {
      grid-template-columns: 1fr;
      gap: var(--spacing-8);
    }

    .offer-content--reverse {
      direction: ltr;
    }

    .offer-image {
      order: -1;
    }
  }

  /* Photo Gallery */
  .photo-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-8);
    max-width: 1000px;
    margin: 0 auto;
  }

  .photo-card {
    border-radius: var(--radius-xl);
    overflow: hidden;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all var(--transition-base);
    cursor: pointer;
  }

  .photo-card:hover {
    border-color: var(--color-primary);
  }

  .photo-card img {
    width: 100%;
    height: auto;
    display: block;
    transition: transform var(--transition-slow);
  }

  .photo-card:hover img {
    transform: scale(1.05);
  }

  .photo-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: var(--spacing-4);
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
    color: var(--color-white);
    font-weight: 500;
  }

  @media (max-width: 768px) {
    .photo-grid {
      grid-template-columns: 1fr;
    }
  }

  /* Photo Placeholders */
  .photo-card--placeholder {
    aspect-ratio: 16 / 10;
    background: var(--color-bg-elevated);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Lightbox Styles */
  .lightbox {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-base);
    backdrop-filter: blur(5px);
  }

  .lightbox.active {
    opacity: 1;
    visibility: visible;
  }

  .lightbox-content {
    max-width: 90%;
    max-height: 90vh;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-xl);
    transform: scale(0.9);
    transition: transform var(--transition-base);
  }

  .lightbox.active .lightbox-content {
    transform: scale(1);
  }

  .lightbox-close {
    position: absolute;
    top: var(--spacing-8);
    right: var(--spacing-8);
    color: #fff;
    font-size: 3rem;
    font-weight: bold;
    cursor: pointer;
    transition: color var(--transition-fast);
    z-index: 2001;
    line-height: 1;
  }

  .lightbox-close:hover {
    color: var(--color-primary);
  }

  .placeholder-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-3);
    color: var(--color-text-muted);
  }

  .placeholder-content i {
    font-size: var(--font-size-4xl);
    opacity: 0.5;
  }

  .placeholder-content span {
    font-size: var(--font-size-sm);
  }
</style>
