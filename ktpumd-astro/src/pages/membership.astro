---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import PageHeader from '../components/PageHeader.astro';
import MemberCard from '../components/MemberCard.astro';
import members from '../data/members.json';

const alumniClasses = Object.keys(members.alumni);
---

<Layout title="Members - KTP UMD">
  <Navbar currentPage="/membership" />
  
  <PageHeader 
    title="Meet Our Members"
    backgroundImage="/img/bg6new.jpg"
    size="small"
  />
  
  <main>
    <!-- Executive Board -->
    <section class="section">
      <div class="container">
        <h2 class="section-title text-center">Executive Board</h2>
        <div class="member-grid member-grid--exec">
          {members.execBoard.map((member, index) => (
            <MemberCard 
              firstName={member.firstName}
              lastName={member.lastName}
              role={member.role}
              animationDelay={index}
            />
          ))}
        </div>
      </div>
    </section>
    
    <!-- Chairs -->
    <section class="section section--alt">
      <div class="container">
        <h2 class="section-title text-center">Chairs</h2>
        <div class="member-grid member-grid--chairs">
          {members.chairs.map((member, index) => (
            <MemberCard 
              firstName={member.firstName}
              lastName={member.lastName}
              role={member.role}
              animationDelay={index}
            />
          ))}
        </div>
      </div>
    </section>
    
    <!-- Brothers -->
    <section class="section">
      <div class="container">
        <h2 class="section-title text-center">Brothers</h2>
        <div class="member-grid">
          {members.brothers.map((member, index) => (
            <MemberCard 
              firstName={member.firstName}
              lastName={member.lastName}
              animationDelay={index}
            />
          ))}
        </div>
      </div>
    </section>
    
    <!-- Alumni -->
    <section class="section section--alt">
      <div class="container">
        <h2 class="section-title text-center">Alumni</h2>
        
        {alumniClasses.map((className) => (
          <div class="alumni-class">
            <h3 class="class-title">{className} Class</h3>
            <div class="alumni-list">
              {members.alumni[className].map((member) => (
                <span class="alumni-name">{member.firstName} {member.lastName}</span>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>
  </main>
  
  <Footer />
</Layout>

<style>
  .section--alt {
    background: var(--color-gray-50);
  }
  
  .section-title {
    font-size: var(--font-size-3xl);
    margin-bottom: var(--spacing-10);
    color: var(--color-gray-900);
  }
  
  .member-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: var(--spacing-4);
    justify-items: center;
  }
  
  .member-grid--exec {
    grid-template-columns: repeat(3, 1fr);
    max-width: 900px;
    margin: 0 auto;
  }
  
  .member-grid--chairs {
    grid-template-columns: repeat(5, 1fr);
  }
  
  @media (max-width: 1200px) {
    .member-grid {
      grid-template-columns: repeat(4, 1fr);
    }
    .member-grid--chairs {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  
  @media (max-width: 992px) {
    .member-grid {
      grid-template-columns: repeat(3, 1fr);
    }
    .member-grid--exec,
    .member-grid--chairs {
      grid-template-columns: repeat(3, 1fr);
    }
  }
  
  @media (max-width: 768px) {
    .member-grid,
    .member-grid--exec,
    .member-grid--chairs {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  /* Alumni Styles */
  .alumni-class {
    margin-bottom: var(--spacing-8);
    padding-bottom: var(--spacing-6);
    border-bottom: 1px solid var(--color-gray-200);
  }
  
  .alumni-class:last-child {
    border-bottom: none;
  }
  
  .class-title {
    font-size: var(--font-size-xl);
    color: var(--color-primary);
    margin-bottom: var(--spacing-4);
    text-align: center;
  }
  
  .alumni-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--spacing-2) var(--spacing-4);
  }
  
  .alumni-name {
    font-size: var(--font-size-sm);
    color: var(--color-gray-600);
    padding: var(--spacing-1) var(--spacing-2);
    background: var(--color-white);
    border-radius: var(--radius-sm);
  }
</style>
